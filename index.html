<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>리프플래닛 | LeafPlanet Foundation</title>
<meta name="description" content="리프플래닛 - 하나의 잎이 지구를 바꾼다. 고등학생이 만드는 비영리 재단 홍보 웹앱 (나무심기 캠페인)" />
<style>
  :root{
    --deep-green: #1B5E20;
    --light-green: #A5D6A7;
    --muted: #6b6b6b;
    --bg: #f6fbf7;
    --card-bg: #ffffff;
    --accent: #2BAE66;
    --glass: rgba(255,255,255,0.75);
    --max-width: 1100px;
    --radius: 14px;
    --shadow: 0 8px 24px rgba(11,22,12,0.08);
    --mono: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  html,body{
    height:100%;
    margin:0;
    font-family: var(--mono);
    background: linear-gradient(180deg, #F7FBF6 0%, #EDF7F0 100%);
    color: #123012;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    scroll-behavior: smooth;
  }

  /* Layout: full-screen sections with snap */
  main{
    scroll-snap-type: y mandatory;
    overflow-y: auto;
    height:100vh;
  }
  section{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:48px 24px;
    box-sizing:border-box;
    scroll-snap-align: start;
  }

  /* Header */
  header{
    position:fixed;
    top:18px;
    left:50%;
    transform:translateX(-50%);
    z-index:1000;
    width:calc(100% - 48px);
    max-width: var(--max-width);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    pointer-events:none;
  }
  .brand{
    display:flex;
    align-items:center;
    gap:12px;
    pointer-events:auto;
    background: linear-gradient(90deg, rgba(255,255,255,0.6), rgba(255,255,255,0.35));
    padding:8px 12px;
    border-radius:12px;
    backdrop-filter: blur(6px);
    box-shadow: var(--shadow);
  }
  .logo{
    width:48px;height:48px;flex:0 0 48px;
  }
  .brand h1{
    margin:0;font-size:16px;color:var(--deep-green);
    letter-spacing:0.2px;
  }
  .brand p{margin:0;font-size:12px;color:var(--muted)}
  nav{ pointer-events:auto; }
  nav a{
    margin-left:12px;
    text-decoration:none;
    color:var(--deep-green);
    font-weight:600;
    background: rgba(255,255,255,0.7);
    padding:8px 10px;border-radius:10px;
    box-shadow: 0 6px 18px rgba(11,22,12,0.04);
  }

  /* Home / Hero */
  .hero{
    width:100%;max-width:var(--max-width);
    display:flex;gap:48px;align-items:center;justify-content:space-between;
    padding:48px;border-radius:16px;box-shadow:var(--shadow);
    background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(245,253,244,0.9));
  }
  .hero-left{flex:1;min-width:280px}
  .hero h2{margin:0 0 12px 0;font-size:36px;color:var(--deep-green)}
  .hero p{margin:0 0 20px 0;color:#2d2d2d;font-size:16px;line-height:1.5}
  .cta-row{display:flex;gap:12px;flex-wrap:wrap}
  .btn{
    display:inline-block;padding:12px 18px;border-radius:12px;text-decoration:none;
    font-weight:700;cursor:pointer;border:0;
    box-shadow:0 8px 20px rgba(0,0,0,0.06);
  }
  .btn-join{background:var(--light-green); color:white}
  .btn-learn{background:transparent;border:2px solid var(--deep-green);color:var(--deep-green)}

  /* Right: planet visual */
  .hero-right{flex:1;display:flex;align-items:center;justify-content:center;min-width:300px}
  .planet-wrap{position:relative;width:360px;height:360px;border-radius:50%;
    display:flex;align-items:center;justify-content:center;box-shadow: 0 16px 40px rgba(11,22,12,0.08);
    background: radial-gradient(circle at 35% 25%, #dff4e8 0%, #edf9ef 35%, #cfeed9 100%);
    border:6px solid rgba(26,95,32,0.08);
    overflow:hidden;
  }
  .planet-center{
    width:240px;height:240px;border-radius:50%;
    background:linear-gradient(180deg,var(--light-green), #72c48b);
    display:flex;align-items:center;justify-content:center;
    box-shadow: inset 0 -10px 40px rgba(0,0,0,0.08);
    color:white;font-weight:700;font-size:18px;
  }
  .leaf{
    position:absolute;width:28px;height:16px;
    transform-origin:center;
    opacity:0;
    transition: transform 700ms cubic-bezier(.2,.9,.2,1), opacity 400ms;
  }
  .leaf svg{width:100%;height:100%}

  .counter{
    position:absolute;left:18px;bottom:18px;background:rgba(255,255,255,0.85);
    padding:8px 12px;border-radius:12px;font-weight:700;color:var(--deep-green);
    box-shadow:0 6px 18px rgba(11,22,12,0.06);
  }

  /* Content sections */
  .content{
    width:100%;max-width:var(--max-width);
    margin:0 auto;
    display:grid;grid-template-columns:1fr 380px;gap:28px;
    align-items:start;
  }
  .card{
    background:var(--card-bg);padding:20px;border-radius:12px;box-shadow:var(--shadow);
  }
  .article-list{display:flex;flex-direction:column;gap:14px}
  .article{
    display:flex;gap:12px;align-items:flex-start;
    padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(250,255,250,1), white);
    border:1px solid rgba(20,80,30,0.04);
  }
  .article .meta{font-size:12px;color:var(--muted)}
  .article h3{margin:0;font-size:16px;color:var(--deep-green)}
  .small{font-size:13px;color:var(--muted)}

  /* Participation form */
  form{display:flex;flex-direction:column;gap:10px}
  label{font-size:13px;color:var(--muted)}
  input[type="text"], input[type="number"], select, textarea{
    padding:10px;border-radius:8px;border:1px solid #e6efe6;background:transparent;
    outline:none;font-size:14px;color:#1a3320;
  }
  textarea{min-height:100px;resize:vertical}
  .submit-row{display:flex;gap:10px;align-items:center}
  .note{font-size:12px;color:var(--muted)}

  /* Footer/contact */
  .contact{
    text-align:center;color:var(--muted);
    margin-top:12px;
  }

  /* Responsive adjustments */
  @media (max-width:980px){
    .content{grid-template-columns:1fr; padding-bottom:40px}
    .hero{flex-direction:column;gap:18px}
    .planet-wrap{width:300px;height:300px}
  }
  @media (max-width:560px){
    .brand h1{font-size:14px}
    .hero h2{font-size:28px}
    .planet-wrap{width:220px;height:220px}
    .planet-center{width:150px;height:150px;font-size:14px}
  }
</style>
</head>
<body>
<header>
  <div class="brand" role="banner" aria-label="리프플래닛 로고와 이름">
    <!-- Logo SVG: earth with single leaf -->
    <div class="logo" aria-hidden="true">
      <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="32" cy="32" r="30" fill="#A5D6A7"/>
        <!-- simplified continents -->
        <path d="M23 22c4-3 9-2 11 1 3 4-1 9-1 13-1 6-7 7-10 6-4-2-6-9-5-14 0-4 3-6 5-6z" fill="#1B5E20"/>
        <path d="M41 30c3 1 6 4 6 7 0 5-3 10-7 11-3 1-6-2-6-2 2-5 1-13 7-16z" fill="#1B5E20"/>
        <!-- leaf -->
        <g transform="translate(18,6) rotate(-15 0 0)">
          <path d="M30 10c-6 1-10 7-10 7s6 1 12-1c4-1 6-4 6-6s-4-2-8 0z" fill="#1B5E20"/>
          <path d="M26 18c4-2 6-7 6-7" stroke="#A5D6A7" stroke-width="1.2" stroke-linecap="round"/>
        </g>
      </svg>
    </div>
    <div>
      <h1>리프플래닛</h1>
      <p>One Leaf Can Change the Planet</p>
    </div>
  </div>

  <nav aria-label="메인 네비게이션">
    <a href="#home">홈</a>
    <a href="#activity">핵심활동</a>
    <a href="#participate">캠페인 참여</a>
    <a href="#stories">뉴스/스토리</a>
    <a href="#support">후원/문의</a>
  </nav>
</header>

<main>
  <!-- HERO / HOME -->
  <section id="home" aria-label="홈">
    <div class="hero" role="region" aria-labelledby="hero-title">
      <div class="hero-left">
        <h2 id="hero-title">리프플래닛 — 작은 잎 하나가 지구를 바꾼다</h2>
        <p>고등학생이 주도하는 비영리 재단, <strong>리프플래닛</strong>은 일상 속 작은 실천을 모아 실제 나무심기로 연결하는 <em>나무심기 캠페인</em>을 운영합니다. 참여는 간단합니다 — 행동을 기록하고, 함께 목표를 달성해요.</p>
        <div class="cta-row">
          <a class="btn btn-join" href="#participate" id="scroll-to-participate">지금 참여하기</a>
          <a class="btn btn-learn" href="#activity">핵심활동 보기</a>
        </div>
        <p class="note" style="margin-top:12px">참여 기록은 브라우저에 저장됩니다. (프로젝트 확장 시 서버 연동 가능)</p>
      </div>

      <div class="hero-right" aria-hidden="false">
        <div class="planet-wrap" role="img" aria-label="디지털 지구와 잎 모음">
          <div class="planet-center">지구를 위한 잎들</div>
          <div class="counter" id="leaf-counter">잎 0개</div>
          <!-- leaves will be injected here -->
        </div>
      </div>
    </div>
  </section>

  <!-- 핵심활동 -->
  <section id="activity" aria-label="핵심활동 - 나무심기">
    <div class="content" role="region" aria-labelledby="activity-title">
      <div class="card">
        <h2 id="activity-title" style="color:var(--deep-green)">핵심활동 — 나무심기 (Plant Trees)</h2>
        <p class="small">리프플래닛의 핵심 활동은 <strong>학교·지역사회 단위의 나무심기 실행</strong>입니다. 아래는 활동의 구체적 운영 방식입니다.</p>

        <h3 style="margin-top:18px">운영 방식</h3>
        <ol>
          <li><strong>모바일/웹 참여 등록:</strong> 참가자는 캠페인 참여 폼을 통해 실천(나무심기, 묘목 기부 등)을 등록합니다.</li>
          <li><strong>디지털 잎 생성:</strong> 등록 1건마다 디지털 잎이 지구에 추가되며, 목표 달성 시 오프라인 나무심기 행사를 주관합니다.</li>
          <li><strong>학교·단체 협력:</strong> 학교 단체 참가자는 기록을 모아 '그린 스쿨' 인증서 및 해커톤 참가 우선권을 받습니다.</li>
          <li><strong>데이터 기반 보고:</strong> 모인 실천 데이터는 연간 리포트로 제작되어 학생들이 지역 환경 개선에 활용할 수 있습니다.</li>
        </ol>

        <h3 style="margin-top:14px">단계별 캠페인 예시</h3>
        <ul>
          <li>1단계: 온라인 기록 - 1,000 잎 모으기</li>
          <li>2단계: 소규모 묘목 나눔 (지역사회 협업)</li>
          <li>3단계: 대규모 오프라인 나무심기 행사</li>
        </ul>

        <h3 style="margin-top:14px">학생 역할</h3>
        <p class="small">기획, 홍보, 참여 데이터 취합, 현장 운영(나무심기), SNS 스토리 제작 등 모든 과정에 학생들이 주도적으로 참여합니다.</p>
      </div>

      <aside class="card" aria-label="핵심 숫자">
        <h3 style="color:var(--deep-green)">오늘의 미션</h3>
        <p class="small">학교별 목표를 설정하고 잎을 모아 보상(인증서, 해커톤 초대)을 받으세요.</p>
        <div style="margin-top:12px">
          <strong>목표:</strong> <span id="campaign-goal">1,000</span> 잎<br />
          <strong>진행:</strong> <span id="campaign-progress">0</span> 잎
        </div>
        <p style="margin-top:12px" class="note">※ 현재 웹앱은 데모입니다. 서버 연동 시 실시간 전체 참여도 집계가 가능합니다.</p>
      </aside>
    </div>
  </section>

  <!-- 캠페인 참여 -->
  <section id="participate" aria-label="캠페인 참여">
    <div class="content" role="region" aria-labelledby="participate-title">
      <div class="card">
        <h2 id="participate-title" style="color:var(--deep-green)">캠페인 참여</h2>
        <p class="small">아래 폼에 참여 정보를 입력하면 디지털 잎이 생성됩니다. (테스트 목적 — 민감한 정보는 입력하지 마세요)</p>

        <form id="participation-form" aria-describedby="participation-note">
          <label for="name">이름 / 팀명</label>
          <input id="name" name="name" type="text" placeholder="홍길동 / OO고등학교 녹색동아리" required>

          <label for="school">학교·단체 (선택)</label>
          <input id="school" name="school" type="text" placeholder="예: 서울 OO고등학교">

          <label for="location">도시(국가)</label>
          <input id="location" name="location" type="text" placeholder="예: Seoul, South Korea" required>

          <label for="count">심은 나무 수 (건)</label>
          <input id="count" name="count" type="number" min="1" value="1" required>

          <label for="note">한 줄 메시지 (선택)</label>
          <textarea id="note" name="note" placeholder="예: 우리 반 1그루 심었어요!"></textarea>

          <div class="submit-row">
            <button class="btn btn-join" type="submit">잎 생성하기</button>
            <div class="note" id="participation-note">제출하면 디지털 잎이 지구에 추가됩니다. (브라우저 저장)</div>
          </div>
        </form>

        <div style="margin-top:18px">
          <h3 style="font-size:16px;color:var(--deep-green);margin:0 0 8px 0">최근 참여</h3>
          <div id="recent-list" class="article-list" aria-live="polite"></div>
        </div>
      </div>

      <aside class="card" aria-label="참여 안내">
        <h3 style="color:var(--deep-green)">참여 가이드</h3>
        <ol style="padding-left:16px">
          <li>나무를 직접 심은 경우 또는 묘목 기부/봉사 참여를 기록하세요.</li>
          <li>학교 단체는 단체명을 입력하면 묶어서 집계됩니다.</li>
          <li>오프라인 대회/행사와 연계하려면 '문의' 섹션으로 연락해주세요.</li>
        </ol>

        <div style="margin-top:14px">
          <strong>Tip</strong>
          <p class="small">SNS에 참여 사진을 공유하고 #LeafPlanet 해시태그를 달면 캠페인 페이지에 소개될 수 있어요.</p>
        </div>
      </aside>
    </div>
  </section>

  <!-- 뉴스/스토리 -->
  <section id="stories" aria-label="뉴스 및 스토리">
    <div class="content" role="region" aria-labelledby="stories-title">
      <div class="card">
        <h2 id="stories-title" style="color:var(--deep-green)">뉴스 / 스토리</h2>
        <p class="small">리프플래닛과 참가 학생들의 활동 기록, 현장 리포트, 에코 팁을 전합니다.</p>

        <div id="stories-list" class="article-list" style="margin-top:12px"></div>
      </div>

      <aside class="card">
        <h3 style="color:var(--deep-green)">에디터 픽</h3>
        <p class="small">"플로깅으로 시작한 우리 반, 행사 후 50그루 심었어요." — 참가 후기</p>
        <p class="small" style="margin-top:10px;">리프플래닛 팀은 정기적으로 참가 사례를 선정해 SNS와 뉴스레터에 소개합니다.</p>
      </aside>
    </div>
  </section>

  <!-- 후원/문의 -->
  <section id="support" aria-label="후원 그리고 문의">
    <div class="content" role="region" aria-labelledby="support-title">
      <div class="card">
        <h2 id="support-title" style="color:var(--deep-green)">후원 / 문의</h2>
        <p class="small">리프플래닛의 활동은 학생 자원봉사와 소액 후원으로 운영됩니다. 아래 양식은 데모이며 실제 결제/문의는 메일로 연결됩니다.</p>

        <form id="contact-form">
          <label for="cname">이름</label>
          <input id="cname" type="text" placeholder="홍길동" required>
          <label for="cemail">이메일</label>
          <input id="cemail" type="text" placeholder="name@example.com" required>
          <label for="cmessage">문의 내용</label>
          <textarea id="cmessage" placeholder="예: 단체후원 문의 드립니다." required></textarea>

          <div style="display:flex;gap:8px;margin-top:8px">
            <!-- Demo donation button (non-functional) -->
            <button type="button" id="donate-btn" class="btn btn-join">소액 후원(데모)</button>
            <button type="submit" class="btn btn-learn">문의 보내기</button>
          </div>
        </form>

        <div class="contact" style="margin-top:14px">
          <p class="small">공식 이메일: <strong>contact@leafplanet.example</strong></p>
          <p class="small">SNS: #LeafPlanet (학생 주도의 해시태그)</p>
        </div>
      </div>

      <aside class="card">
        <h3 style="color:var(--deep-green)">파트너십</h3>
        <p class="small">학교/지자체/기업과의 협업을 환영합니다. 실제 재단 운영 시 제휴 폼과 후원금 관리 기능을 추가할 예정입니다.</p>
      </aside>
    </div>
  </section>
</main>

<script>
/*
  LeafPlanet WebApp (single-file)
  - participation form -> creates 'leaf' markers around planet
  - stores participation records in localStorage
  - renders recent list and updates counters
*/

/* Utilities */
const qs = s => document.querySelector(s);
const qsa = s => Array.from(document.querySelectorAll(s));

/* Elements */
const planetWrap = qs('.planet-wrap');
const counterEl = qs('#leaf-counter');
const form = qs('#participation-form');
const recentList = qs('#recent-list');
const campaignGoalEl = qs('#campaign-goal');
const campaignProgEl = qs('#campaign-progress');
const storiesList = qs('#stories-list');

/* Config */
const STORAGE_KEY = 'leafplanet_participation_v1';
const CAMPAIGN_GOAL = 1000;
campaignGoalEl.textContent = CAMPAIGN_GOAL;

/* Load existing records */
let records = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');

/* Helper: random position inside circle */
function randomPointInCircle(radius){
  // returns {x,y} relative to center [-r,r]
  const t = 2 * Math.PI * Math.random();
  const u = Math.random() + Math.random();
  let r = u > 1 ? 2 - u : u;
  r = r * radius;
  return { x: Math.round(r * Math.cos(t)), y: Math.round(r * Math.sin(t)) };
}

/* Render leaf on planet */
function renderLeafVisual(id, count=1, delay=0){
  // create 'count' number of small leaf SVGs positioned randomly
  for(let i=0;i<count;i++){
    const leaf = document.createElement('div');
    leaf.className = 'leaf';
    leaf.innerHTML = `
      <svg viewBox="0 0 24 14" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M2 9c3-5 10-7 20-6c-6 3-7 6-8 9c-4 0-9-2-12-3z" fill="${getComputedStyle(document.documentElement).getPropertyValue('--deep-green').trim() || '#1B5E20'}"/>
        <path d="M12 4c2 2 3 4 3 6" stroke="${getComputedStyle(document.documentElement).getPropertyValue('--light-green').trim() || '#A5D6A7'}" stroke-width="0.8" stroke-linecap="round"/>
      </svg>
    `;
    // position randomly within planet (planetWrap is a circle)
    const wrapRect = planetWrap.getBoundingClientRect();
    const radius = Math.min(wrapRect.width, wrapRect.height) / 2 - 12;
    const pt = randomPointInCircle(radius);
    leaf.style.left = (wrapRect.width/2 + pt.x - 14) + 'px';
    leaf.style.top = (wrapRect.height/2 + pt.y - 8) + 'px';
    leaf.style.opacity = '0';
    leaf.style.transform = `translateY(-40px) rotate(${Math.random()*60-30}deg) scale(0.8)`;
    planetWrap.appendChild(leaf);
    // animate in
    setTimeout(() => {
      leaf.style.opacity = '1';
      leaf.style.transform = `translateY(0) rotate(${Math.random()*60-30}deg) scale(1)`;
    }, 120 + i*80 + delay);
    // subtle float animation
    leaf.animate([
      { transform: leaf.style.transform },
      { transform: leaf.style.transform.replace('scale(1)','scale(1.05)') },
      { transform: leaf.style.transform }
    ], { duration: 4000 + Math.random()*2000, iterations: Infinity, easing: 'ease-in-out' });
  }
}

/* Update counters and recent list */
function updateUI(){
  const totalLeaves = records.reduce((s,r)=>s + (r.count||1), 0);
  counterEl.textContent = `잎 ${totalLeaves}개`;
  campaignProgEl.textContent = totalLeaves;

  // recent list (latest 6)
  recentList.innerHTML = '';
  const recent = records.slice(-6).reverse();
  recent.forEach(r=>{
    const el = document.createElement('div');
    el.className = 'article';
    el.innerHTML = `
      <div style="flex:1">
        <h3>${escapeHtml(r.name || '익명')}</h3>
        <div class="meta">${escapeHtml(r.school || '')} · ${escapeHtml(r.location || '')} · ${r.count} 그루</div>
        <p class="small" style="margin-top:8px">${escapeHtml(r.message || '')}</p>
      </div>
    `;
    recentList.appendChild(el);
  });

  // ensure planet has as many leaves as total (visual only)
  // Clear existing leaves except counter and center
  // We won't remove older leaves to keep animation; but if very many, limit to 200
  const existingLeafEls = planetWrap.querySelectorAll('.leaf');
  const shown = existingLeafEls.length;
  const need = Math.min(200, totalLeaves) - shown;
  if(need > 0){
    renderLeafVisual('auto', need, 200);
  }

  // update goal progress color subtly
  const percent = Math.min(1, totalLeaves / CAMPAIGN_GOAL);
  const center = qs('.planet-center');
  center.style.boxShadow = `inset 0 -10px 40px rgba(0,0,0,0.08), 0 0 0 ${Math.round(percent*12)}px rgba(165,214,167,${0.12 + percent*0.18})`;
}

/* Escape for innerText safe insertion */
function escapeHtml(s){
  if(!s) return '';
  return String(s).replace(/[&<>"']/g, function (m) { return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]; });
}

/* Form submit */
form.addEventListener('submit', function(e){
  e.preventDefault();
  const name = form.name.value.trim();
  const school = form.school.value.trim();
  const location = form.location.value.trim();
  const count = Math.max(1, parseInt(form.count.value) || 1);
  const message = form.note.value.trim();

  const record = {
    id: 'r' + Date.now(),
    name: name || '익명',
    school, location, count, message,
    ts: new Date().toISOString()
  };
  records.push(record);
  localStorage.setItem(STORAGE_KEY, JSON.stringify(records));

  // create visual leaves
  renderLeafVisual(record.id, Math.min(12, count), 80);

  // update UI
  updateUI();

  // reset small parts of form
  form.count.value = 1;
  form.note.value = '';
  // show brief animation (scroll to top of planet)
  qs('#home').scrollIntoView({behavior:'smooth'});
});

/* Initialize planet visuals from stored records (but cap visuals to reasonable number) */
function initFromStorage(){
  // render some leaves according to records
  const totalLeaves = records.reduce((s,r)=>s + (r.count||1), 0);
  const renderCount = Math.min(80, totalLeaves);
  if(renderCount>0){
    renderLeafVisual('init', renderCount, 200);
  }
  updateUI();
}

/* Demo stories */
const demoStories = [
  {title:'우리 반의 첫 묘목 나눔', date:'2025-04-21', excerpt:'OO고등학교 환경동아리가 교내 묘목 나눔을 진행해 30그루를 기부했습니다.'},
  {title:'플로깅으로 시작된 변화', date:'2025-06-10', excerpt:'동네 쓰레기를 줍던 소규모 모임이 인근 공원에 나무심기 활동을 연계했습니다.'},
  {title:'학생 해커톤: 그린아이디어', date:'2025-09-03', excerpt:'리프플래닛이 주최한 해커톤에서 친환경 교육 앱 아이디어가 수상했습니다.'}
];
function renderStories(){
  storiesList.innerHTML = '';
  demoStories.forEach(s=>{
    const a = document.createElement('div');
    a.className = 'article';
    a.innerHTML = `
      <div style="flex:1">
        <h3>${escapeHtml(s.title)}</h3>
        <div class="meta">${escapeHtml(s.date)}</div>
        <p class="small" style="margin-top:8px">${escapeHtml(s.excerpt)}</p>
      </div>
    `;
    storiesList.appendChild(a);
  });
}

/* Contact form (demo) */
qs('#contact-form').addEventListener('submit', function(e){
  e.preventDefault();
  alert('문의가 전송되었습니다. (데모) — 이메일 contact@leafplanet.example 로도 문의 가능합니다.');
  qs('#cname').value=''; qs('#cemail').value=''; qs('#cmessage').value='';
});
qs('#donate-btn').addEventListener('click', function(){
  alert('후원 버튼(데모) — 실제 결제 연동은 준비 중입니다.');
});

/* Initialize */
document.addEventListener('DOMContentLoaded', ()=>{
  initFromStorage();
  renderStories();

  // smooth jump behavior for header nav links (for older browsers)
  qsa('header nav a').forEach(a=>{
    a.addEventListener('click', (e)=>{
      const target = document.querySelector(a.getAttribute('href'));
      if(target){
        e.preventDefault();
        target.scrollIntoView({behavior:'smooth'});
      }
    });
  });

  // small entrance animation for hero planet
  setTimeout(()=>{ qs('.planet-wrap').style.transform='translateY(0)'; }, 300);
});

/* Accessibility helper: focus outlines for keyboard users */
document.addEventListener('keyup', e => {
  if(e.key === 'Tab') document.body.classList.add('show-focus');
});
</script>
</body>
</html>
